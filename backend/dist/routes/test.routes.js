"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const express_1 = require("express");
const test_controller_1 = require("../controllers/test.controller");
const auth_middleware_1 = require("../middlewares/auth.middleware");
const validation_middleware_1 = require("../middlewares/validation.middleware");
const router = (0, express_1.Router)();
const testController = new test_controller_1.TestController();
router.use(auth_middleware_1.authenticate);
router.post('/', (0, auth_middleware_1.authorize)('admin', 'lab_technician'), validation_middleware_1.validateRequest, testController.createTest);
router.get('/', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.getAllTests);
router.get('/available', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.getAvailableTests);
router.get('/panels/popular', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.getPopularPanels);
router.get('/search', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.searchTests);
router.get('/category/:category', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.getTestsByCategory);
router.get('/:testId', (0, auth_middleware_1.authorize)('admin', 'doctor', 'lab_technician', 'nurse', 'receptionist'), testController.getTestById);
router.put('/:testId', (0, auth_middleware_1.authorize)('admin', 'lab_technician'), validation_middleware_1.validateRequest, testController.updateTest);
router.delete('/:testId', (0, auth_middleware_1.authorize)('admin'), testController.deleteTest);
router.post('/:testId/duplicate', (0, auth_middleware_1.authorize)('admin', 'lab_technician'), validation_middleware_1.validateRequest, testController.duplicateTest);
exports.default = router;
